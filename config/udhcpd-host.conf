# udhcpd configuration for Docker host network mode
# This configuration is for production use with host networking

# The start and end of the IP lease block
# Adjust these to match your actual network
start		192.168.1.20
end		192.168.1.254

# The interface that udhcpd will use
# Change this to match your host interface (eth0, ens33, etc.)
interface	eth0

# The maximum number of leases
max_leases	234

# Lease time settings
auto_time	7200		# Write lease file every 2 hours
decline_time	3600		# Reserve declined IPs for 1 hour
conflict_time	3600		# Reserve conflicted IPs for 1 hour
offer_time	60		# Hold offers for 1 minute

# Lease time
lease_file	/var/lib/dhcp/udhcpd.leases
pidfile		/var/run/udhcpd.pid

# Lease options
remaining	yes		# Store remaining time instead of absolute time

# DHCP options to send to clients
# Adjust these to match your network configuration
opt	dns	8.8.8.8 8.8.4.4		# DNS servers
opt	subnet	255.255.255.0		# Subnet mask
opt	router	192.168.1.1		# Default gateway
opt	wins	192.168.1.1		# Windows name server
opt	domain	local			# Local domain name
opt	lease	864000			# 10 day lease time in seconds

# Boot options (uncomment if needed for PXE boot)
#opt	tftp	192.168.1.1
#opt	bootfile /pxelinux.0

# MySQL database configuration
# Use localhost since we're in host network mode
dbserver	127.0.0.1		# MySQL server (localhost in host mode)
user		dhcp			# MySQL username
password	dhcp			# MySQL password  
database	dhcp			# Database name
table_options	options			# Options table name
table_staticleases staticleases		# Static leases table name
table_efficient	yes			# Use efficient table format

# Static leases can be defined here or in the MySQL database
# Uncomment and modify as needed:
#static_lease	00:60:08:11:CE:4E	192.168.1.60
#static_lease	00:60:08:11:CE:3E	192.168.1.61

# Enable logging for debugging
log_level	2
